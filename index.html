<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jarvis Heyrose - Google Auth</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root { --bg: #0b0f14; --panel: #151a23; --border: rgba(255,255,255,0.1); --text: #e6edf6; --accent: #7c3aed; --danger: #ef4444; }
        * { box-sizing: border-box; }
        body { margin: 0; font-family: sans-serif; background: var(--bg); color: var(--text); height: 100vh; overflow: hidden; }

        /* GÄ°RÄ°Å EKRANI */
        #auth-screen {
            position: fixed; inset: 0; background: var(--bg); z-index: 9999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .google-btn {
            background: white; color: #000; padding: 12px 24px; border-radius: 8px;
            cursor: pointer; font-weight: bold; border: none; display: flex; align-items: center; gap: 10px;
        }

        /* ANA YAPI */
        .app { display: none; height: 100vh; } /* GiriÅŸ yapÄ±lmadan gÃ¶rÃ¼nmez */
        .sidebar { width: 250px; background: #0c121b; border-right: 1px solid var(--border); padding: 20px; display: flex; flex-direction: column; }
        .main { flex: 1; padding: 25px; overflow-y: auto; }
        
        .nav-btn {
            all: unset; padding: 12px; margin-bottom: 5px; border-radius: 8px; 
            cursor: pointer; transition: 0.2s; color: #a9b4c3;
        }
        .nav-btn.active { background: rgba(124, 58, 237, 0.15); color: var(--accent); border: 1px solid rgba(124, 58, 237, 0.3); }

        /* Ä°Ã‡ERÄ°K ALANI */
        .room { display: none; }
        .room.active { display: block; }
        .input-group { background: var(--panel); padding: 15px; border-radius: 12px; display: flex; gap: 10px; margin-bottom: 20px; border: 1px solid var(--border); }
        input { flex: 1; background: transparent; border: none; color: white; outline: none; }
        
        .card { background: rgba(255,255,255,0.03); border: 1px solid var(--border); padding: 15px; border-radius: 12px; margin-bottom: 10px; }
        .limit-info { font-size: 11px; color: var(--danger); margin-top: 5px; font-weight: bold; }
        .user-info { font-size: 12px; margin-bottom: 20px; color: var(--accent); }
    </style>
</head>
<body>

    <div id="auth-screen">
        <h1 style="letter-spacing: 4px;">JARVIS</h1>
        <p>Devam etmek iÃ§in Google ile giriÅŸ yapÄ±n</p>
        <button class="google-btn" onclick="signInWithGoogle()">
            <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" width="20">
            Google ile GiriÅŸ Yap
        </button>
    </div>

    <div class="app" id="app-body">
        <div style="display:flex; height:100%;">
            <aside class="sidebar">
                <h2>JARVIS</h2>
                <div id="user-mail" class="user-info"></div>
                <button class="nav-btn active" onclick="showRoom('ytb', this)">YouTube OdasÄ±</button>
                <button class="nav-btn" onclick="showRoom('insta', this)">Instagram OdasÄ±</button>
                <button class="nav-btn" onclick="showRoom('tiktok', this)">TikTok OdasÄ±</button>
                <button class="nav-btn" onclick="showRoom('x', this)">X OdasÄ±</button>
                <button onclick="signOut()" style="margin-top:auto; color:var(--danger); background:none; border:none; cursor:pointer;">Ã‡Ä±kÄ±ÅŸ Yap</button>
            </aside>

            <main class="main">
                <div id="ytb" class="room active">
                    <h3>ğŸ”´ YouTube Ä°Ã§erik Paneli</h3>
                    <div class="input-group">
                        <input type="text" id="in-ytb" placeholder="Konu yazÄ±n...">
                        <button onclick="create('ytb')" style="background:var(--accent); color:white; border:none; border-radius:8px; padding:0 20px; cursor:pointer;">Ãœret</button>
                    </div>
                    <div id="out-ytb"></div>
                </div>
                <div id="insta" class="room"><h3>ğŸŸ£ Instagram Ä°Ã§erik Paneli</h3><div class="input-group"><input type="text" id="in-insta" placeholder="Konu..."><button onclick="create('insta')">Ãœret</button></div><div id="out-insta"></div></div>
                <div id="tiktok" class="room"><h3>âš« TikTok Ä°Ã§erik Paneli</h3><div class="input-group"><input type="text" id="in-tiktok" placeholder="Konu..."><button onclick="create('tiktok')">Ãœret</button></div><div id="out-tiktok"></div></div>
                <div id="x" class="room"><h3>ğŸ”µ X Ä°Ã§erik Paneli</h3><div class="input-group"><input type="text" id="in-x" placeholder="Konu..."><button onclick="create('x')">Ãœret</button></div><div id="out-x"></div></div>
            </main>
        </div>
    </div>

    <script>
        // Supabase BaÄŸlantÄ±sÄ± (Kendi bilgilerini buraya yazmalÄ±sÄ±n)
        const _supabase = supabase.createClient("https://YOUR_PROJECT_ID.supabase.co", "YOUR_ANON_KEY");

        // GÄ°RÄ°Å FONKSÄ°YONU
        async function signInWithGoogle() {
            await _supabase.auth.signInWithOAuth({ provider: 'google' });
        }

        // Ã‡IKIÅ FONKSÄ°YONU
        async function signOut() {
            await _supabase.auth.signOut();
            location.reload();
        }

        // OTURUM KONTROLÃœ
        _supabase.auth.onAuthStateChange((event, session) => {
            if (session) {
                document.getElementById('auth-screen').style.display = 'none';
                document.getElementById('app-body').style.display = 'block';
                document.getElementById('user-mail').innerText = "Aktif: " + session.user.email;
            }
        });

        // ODA DEÄÄ°ÅTÄ°RME
        function showRoom(id, btn) {
            document.querySelectorAll('.room').forEach(r => r.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            btn.classList.add('active');
        }

        // ÃœRETÄ°M MOTORU (100 KARAKTER SINIRLI)
        function create(platform) {
            const val = document.getElementById('in-' + platform).value;
            const out = document.getElementById('out-' + platform);
            if(!val) return;

            // Ã–rnek Taslaklar
            let title = val + " HakkÄ±nda Her Åey!";
            let tags = "#" + val.replace(/ /g,'') + " #trend #kesfet";
            let desc1 = val + " iÃ§eriÄŸimizi izlediniz mi?";
            let desc2 = "Daha fazlasÄ± iÃ§in takipte kalÄ±n: " + val;

            // Karakter SÄ±nÄ±rÄ± KontrolÃ¼ (BaÅŸlÄ±k + Etiket)
            let combined = title + " " + tags;
            let warning = "";
            if(combined.length > 100) {
                combined = combined.substring(0, 97) + "...";
                warning = "<div class='limit-info'>âš ï¸ 100 Karakter sÄ±nÄ±rÄ± nedeniyle kÄ±saltÄ±ldÄ±!</div>";
            }

            out.innerHTML = `
                <div class="card"><strong>BaÅŸlÄ±k:</strong><br>${title}</div>
                <div class="card"><strong>Kombinasyon (BaÅŸlÄ±k+Tag):</strong><br>${combined} ${warning}</div>
                <div class="card"><strong>AÃ§Ä±klama 1:</strong><br>${desc1}</div>
                <div class="card"><strong>AÃ§Ä±klama 2:</strong><br>${desc2}</div>
            `;
        }
    </script>
</body>
</html>
