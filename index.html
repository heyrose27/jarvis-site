<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JARVIS HEYROSE</title>
  <style>
    :root{
      --bg:#0b0b12;
      --panel:#111125;
      --panel2:#14142e;
      --border:rgba(255,255,255,.08);
      --text:#eaeaf2;
      --muted:#a7a7c2;
      --purple:#7c3aed;
      --purple2:#5b21b6;
      --green:#16a34a;
      --btn:#1a1a2f;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Arial, Helvetica, sans-serif;
      background: radial-gradient(1200px 600px at 30% 20%, rgba(124,58,237,.18), transparent 60%),
                  radial-gradient(900px 500px at 70% 60%, rgba(91,33,182,.18), transparent 60%),
                  var(--bg);
      color:var(--text);
    }

    .app{
      display:flex;
      min-height:100vh;
    }

    /* LEFT MENU */
    .sidebar{
      width:260px;
      padding:18px;
      background:linear-gradient(180deg, rgba(124,58,237,.12), transparent 40%);
      border-right:1px solid var(--border);
    }

    .logo{
      display:flex;
      gap:10px;
      align-items:center;
      margin-bottom:18px;
    }
    .logo .dot{
      width:34px;height:34px;border-radius:10px;
      background:linear-gradient(135deg, var(--purple), var(--purple2));
      box-shadow:0 0 30px rgba(124,58,237,.35);
    }
    .logo h1{
      font-size:16px;
      margin:0;
      letter-spacing:.5px;
    }
    .logo p{
      margin:0;
      font-size:12px;
      color:var(--muted);
    }

    .menu{
      margin-top:12px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }

    .menu a{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:12px 12px;
      border-radius:14px;
      text-decoration:none;
      color:var(--text);
      background:transparent;
      border:1px solid transparent;
      transition:.2s;
      font-size:14px;
    }
    .menu a:hover{
      border:1px solid var(--border);
      background:rgba(255,255,255,.03);
    }
    .menu a.active{
      background:rgba(124,58,237,.12);
      border:1px solid rgba(124,58,237,.35);
      box-shadow:0 0 20px rgba(124,58,237,.12);
    }
    .badge{
      font-size:12px;
      padding:3px 8px;
      border-radius:999px;
      background:rgba(22,163,74,.18);
      border:1px solid rgba(22,163,74,.35);
      color:#b9ffd0;
    }

    .bottom-left{
      position:absolute;
      left:18px;
      bottom:18px;
      color:var(--muted);
      font-size:12px;
    }

    /* MAIN */
    .main{
      flex:1;
      padding:18px;
    }

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:14px 16px;
      border:1px solid var(--border);
      border-radius:18px;
      background:rgba(255,255,255,.02);
    }

    .tabs{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .tab{
      padding:8px 12px;
      border-radius:999px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.02);
      color:var(--text);
      font-size:13px;
      cursor:pointer;
    }
    .tab.active{
      border-color:rgba(124,58,237,.45);
      background:rgba(124,58,237,.12);
    }

    .right-status{
      display:flex;
      gap:10px;
      align-items:center;
    }
    .status{
      display:flex;
      gap:8px;
      align-items:center;
      padding:7px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.02);
      font-size:12px;
      color:var(--muted);
    }
    .status .led{
      width:8px;height:8px;border-radius:50%;
      background:var(--green);
      box-shadow:0 0 10px rgba(22,163,74,.6);
    }

    .userpill{
      padding:7px 10px;
      border-radius:999px;
      border:1px solid rgba(124,58,237,.35);
      background:rgba(124,58,237,.10);
      font-size:12px;
      color:var(--text);
    }

    .content{
      margin-top:18px;
      border:1px solid var(--border);
      border-radius:18px;
      padding:18px;
      background:rgba(255,255,255,.02);
      min-height:calc(100vh - 140px);
    }

    .title{
      margin:0 0 6px 0;
      font-size:22px;
    }
    .subtitle{
      margin:0 0 18px 0;
      color:var(--muted);
      font-size:13px;
    }

    .cards{
      display:grid;
      grid-template-columns:repeat(3, minmax(0, 1fr));
      gap:14px;
    }
    @media(max-width:1000px){
      .cards{grid-template-columns:1fr}
      .sidebar{display:none}
    }

    .card{
      border:1px solid var(--border);
      border-radius:18px;
      padding:14px;
      background:linear-gradient(180deg, rgba(124,58,237,.10), rgba(255,255,255,.02));
      min-height:110px;
      position:relative;
      overflow:hidden;
    }
    .card h3{
      margin:0;
      font-size:14px;
    }
    .card p{
      margin:8px 0 0 0;
      font-size:12px;
      color:var(--muted);
      line-height:1.4;
    }
    .limit{
      position:absolute;
      top:12px;
      right:12px;
      font-size:11px;
      color:var(--muted);
      border:1px solid var(--border);
      padding:3px 8px;
      border-radius:999px;
      background:rgba(0,0,0,.15);
    }
    .card .actions{
      position:absolute;
      left:14px;
      bottom:14px;
      right:14px;
      display:flex;
      justify-content:space-between;
      align-items:center;
    }
    .btn{
      border:none;
      padding:9px 12px;
      border-radius:12px;
      cursor:pointer;
      font-size:12px;
      color:var(--text);
      background:rgba(255,255,255,.06);
      border:1px solid var(--border);
    }
    .btn.primary{
      background:rgba(22,163,74,.22);
      border:1px solid rgba(22,163,74,.35);
    }

    .chatbox{
      margin-top:18px;
      border:1px solid var(--border);
      border-radius:18px;
      padding:14px;
      background:rgba(0,0,0,.20);
    }

    .row{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
    }

    select, input{
      background:rgba(255,255,255,.04);
      border:1px solid var(--border);
      color:var(--text);
      border-radius:12px;
      padding:10px 12px;
      outline:none;
      font-size:13px;
    }

    input{
      flex:1;
      min-width:200px;
    }

    .send{
      padding:10px 14px;
      border-radius:12px;
      background:rgba(124,58,237,.22);
      border:1px solid rgba(124,58,237,.35);
      color:var(--text);
      cursor:pointer;
      font-size:13px;
    }

    .result{
      margin-top:12px;
      padding:12px;
      border-radius:14px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.03);
      color:var(--text);
      white-space:pre-wrap;
      font-size:13px;
      line-height:1.5;
      min-height:60px;
    }
  </style>
</head>

<body>
  <div class="app">

    <aside class="sidebar">
      <div class="logo">
        <div class="dot"></div>
        <div>
          <h1>JARVIS HEYROSE</h1>
          <p>Odalar • AI • Ders</p>
        </div>
      </div>

      <nav class="menu">
        <a class="active" href="#">YouTube Odası <span class="badge">3 Free</span></a>
        <a href="#">Instagram Reels</a>
        <a href="#">TikTok Odası</a>
        <a href="#">Facebook Odası</a>
        <a href="#">X Odası</a>
        <a href="#">Ders Odası (30dk)</a>
        <a href="#">Üniversite Aday</a>
        <a href="#">KPSS Test</a>
        <a href="#">Kanal Analiz</a>
      </nav>

      <div class="bottom-left">Yardım</div>
    </aside>

    <main class="main">
      <div class="topbar">
        <div class="tabs">
          <button class="tab active" data-mode="Başlık">Hepsi</button>
          <button class="tab" data-mode="Viral">Viral</button>
          <button class="tab" data-mode="SEO">SEO</button>
          <button class="tab" data-mode="Ders">Ders</button>
        </div>

        <div class="right-status">
          <div class="status"><span class="led"></span> Sistem Aktif</div>
          <div class="userpill">Google ile Giriş</div>
        </div>
      </div>

      <section class="content">
        <h2 class="title">YouTube Odası</h2>
        <p class="subtitle">Başlık • Hashtag • Kanal açıklaması (3 adet limit)</p>

        <div class="cards">
          <div class="card">
            <span class="limit">3 Adet</span>
            <h3>Başlık Üret</h3>
            <p>YouTube/Shorts için yüksek aramalı başlık üretir.</p>
            <div class="actions">
              <button class="btn primary" onclick="setMode('Başlık')">Seç</button>
              <button class="btn" onclick="setMode('Başlık')">Tanıtım</button>
            </div>
          </div>

          <div class="card">
            <span class="limit">3 Adet</span>
            <h3>Hashtag Üret</h3>
            <p>İçeriğe göre hashtag seti üretir.</p>
            <div class="actions">
              <button class="btn primary" onclick="setMode('Hashtag')">Seç</button>
              <button class="btn" onclick="setMode('Hashtag')">Tanıtım</button>
            </div>
          </div>

          <div class="card">
            <span class="limit">3 Adet</span>
            <h3>Kanal Açıklaması</h3>
            <p>Kanal açıklaması / bio üretir.</p>
            <div class="actions">
              <button class="btn primary" onclick="setMode('Açıklama')">Seç</button>
              <button class="btn" onclick="setMode('Açıklama')">Tanıtım</button>
            </div>
          </div>
        </div>

        <div class="chatbox">
          <div class="row">
            <select id="modeSelect">
              <option value="Başlık">Mod: Başlık</option>
              <option value="Hashtag">Mod: Hashtag</option>
              <option value="Açıklama">Mod: Kanal Açıklaması</option>
            </select>

            <input id="promptInput" placeholder="Buraya yaz..." />
            <button id="sendBtn" class="send">Oluştur</button>
          </div>

          <div id="resultBox" class="result">Hazır.</div>
        </div>
      </section>
    </main>

  </div>

  <script>
    let mode = "Başlık";

    function setMode(m){
      mode = m;
      document.getElementById("modeSelect").value = m;
      document.getElementById("resultBox").textContent = "Mod seçildi: " + m;
    }

    // üstteki tablar
    document.querySelectorAll(".tab").forEach(btn=>{
      btn.addEventListener("click", ()=>{
        document.querySelectorAll(".tab").forEach(x=>x.classList.remove("active"));
        btn.classList.add("active");
      });
    });

    // select değişince mode güncelle
    document.getElementById("modeSelect").addEventListener("change", (e)=>{
      mode = e.target.value;
      document.getElementById("resultBox").textContent = "Mod seçildi: " + mode;
    });

    // OLUŞTUR BUTONU
    document.getElementById("sendBtn").addEventListener("click", async ()=>{
      const txt = document.getElementById("promptInput").value.trim();
      if(!txt) return alert("Bir şey yaz.");

      document.getElementById("resultBox").textContent = "Yükleniyor...";

      try{
        const r = await fetch("/api/gemini", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ prompt: `Mod: ${mode}\nİstek: ${txt}` })
        });

        const raw = await r.text();
        let data;
        try { data = JSON.parse(raw); }
        catch { data = { error: raw }; }

        if(!r.ok){
          document.getElementById("resultBox").textContent = "HATA: " + (data.error || r.status);
          return;
        }

        document.getElementById("resultBox").textContent = data.reply || "Cevap gelmedi.";
      }catch(err){
        document.getElementById("resultBox").textContent = "Bağlantı hatası: " + err;
      }
    });
  </script>
</body>
</html>

